{"version":3,"sources":["paginaActual.js","horas.js","ponentes.js","tags.js"],"names":["paginaActual","urlActual","window","location","enlace","document","querySelector","pathname","classList","add","console","log","horas","categoria","inputHiddenDia","inputHiddenHora","horaSeleccionada","value","busquedaActual","busqueda","categoria_id","dia","onclick","seleccionarHora","querySelectorAll","forEach","addEventListener","terminoBusqueda","Object","values","includes","buscarEventos","remove","e","target","name","horaPrevia","parseInt","async","url","resultado","fetch","eventos","listadoHoras","li","horasTomadas","map","evento","hora_id","listadoHorasArray","Array","from","filter","dataset","horaId","hora","removeEventListener","obtenerHorasDisponibles","json","ponentes","ponentesFiltrados","ponentesInput","listadoPonentes","ponenteHidden","seleccionarPonente","ponente","ponentePrevio","ponenteId","length","expresion","RegExp","normalize","replace","nombre","toLowerCase","search","firstChild","removeChild","ponenteHTML","createElement","textContent","id","appendChild","noResultado","mostrarPonentes","respuesta","arrayPonentes","trim","apellido","formatearPonentes","obtenerPonentes","obtenerPonente","PonenteDOM","tags","tagsInput","tagsDiv","tagsInputHidden","mostrarTags","tag","etiqueta","btnEliminar","eliminarTag","actualizarInputHidden","parentElement","toString","keyCode","preventDefault","split"],"mappings":"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","file":"bundle.js","sourcesContent":["window.addEventListener('load', function() {\r\n\tpaginaActual()\r\n})\r\n\r\nfunction paginaActual() {\r\n\tconst urlActual = window.location\r\n\t\r\n\tconst enlace = document.querySelector(`a[href=\"${urlActual.pathname}\"]`)\r\n\t\r\n\tif(enlace){\r\n\t\tenlace.classList.add('dashboard__enlace--actual')\r\n\t\tconsole.log(enlace)\r\n\t}\r\n}","(function(){\r\n\r\n\tconst horas = document.querySelector('#horas')\r\n\tconst categoria = document.querySelector('[name=\"categoria_id\"]')\r\n\tconst inputHiddenDia = document.querySelector('[name=\"dia_id\"]')\r\n\tconst inputHiddenHora = document.querySelector('[name=\"hora_id\"]')\r\n\tconst horaSeleccionada = document.querySelector(`[data-hora-id=\"${inputHiddenHora.value}\"]`)\r\n\r\n\tconst busquedaActual = {\r\n\t\tcategoria: +categoria.value,\r\n\t\tdia: +inputHiddenDia.value\r\n\t}\r\n\r\n\tlet busqueda = {\r\n\t\tcategoria_id: +categoria.value || '',\r\n\t\tdia: +inputHiddenDia.value || ''\r\n\t}\r\n\r\n\tif(horaSeleccionada) {\r\n\t\thoraSeleccionada.onclick = seleccionarHora\r\n\t}\r\n\r\n\tif(horas) {\r\n\t\tconst dias = document.querySelectorAll('[name=\"dia\"]')\r\n\t\tdias.forEach(dia => dia.addEventListener('change', terminoBusqueda))\r\n\t\tcategoria.addEventListener('change', terminoBusqueda)\r\n\t\tif(!Object.values(busqueda).includes('')) {\r\n\t\t\t(async () => {\r\n\t\t\t\tawait buscarEventos()\r\n\t\t\t\thoraSeleccionada.classList.remove('horas__hora--deshabilitada')\r\n\t\t\t\thoraSeleccionada.classList.add('horas__hora--seleccionada')\t\t\t\r\n\t\t\t})()\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction terminoBusqueda(e) {\r\n\t\tbusqueda[e.target.name] = e.target.value\r\n\t\tinputHiddenHora.value = ''\r\n\t\tinputHiddenDia.value = ''\r\n\t\tconst horaPrevia = document.querySelector('.horas__hora--seleccionada')\r\n\t\tif(horaPrevia) {\r\n\t\t\thoraPrevia.classList.remove('horas__hora--seleccionada')\r\n\t\t}\r\n\t\tif(Object.values(busqueda).includes('')) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif(busquedaActual.categoria === busqueda.categoria_id && busquedaActual.dia === parseInt(busqueda.dia)) {\r\n\t\t\t(async () => {\r\n\t\t\t\tawait buscarEventos()\r\n\t\t\t\thoraSeleccionada.classList.remove('horas__hora--deshabilitada')\r\n\t\t\t\thoraSeleccionada.classList.add('horas__hora--seleccionada')\r\n\t\t\t})()\r\n\t\t} else {\r\n\t\t\tbuscarEventos()\r\n\t\t}\r\n\t}\r\n\r\n\tasync function buscarEventos() {\r\n\t\tconst {dia, categoria_id} = busqueda\r\n\t\tconst url = `/api/eventos-horario?dia_id=${dia}&categoria_id=${categoria_id}`\r\n\t\tconst resultado = await fetch(url)\r\n\t\tconst eventos = await resultado.json()\r\n\t\tobtenerHorasDisponibles(eventos)\r\n\t}\r\n\r\n\tfunction obtenerHorasDisponibles(eventos) {\r\n\t\tconst listadoHoras = document.querySelectorAll('#horas li')\r\n\t\tlistadoHoras.forEach(li => li.classList.add('horas__hora--deshabilitada'))\r\n\t\tconst horasTomadas = eventos.map(evento => evento.hora_id)\r\n\t\tconst listadoHorasArray = Array.from(listadoHoras)\r\n\t\tconst resultado = listadoHorasArray.filter(li => !horasTomadas.includes(li.dataset.horaId))\r\n\t\tresultado.forEach(li => li.classList.remove('horas__hora--deshabilitada'))\r\n\t\tconst horasDisponibles = document.querySelectorAll('#horas li:not(.horas__hora--deshabilitada)')\r\n\t\thorasDisponibles.forEach(hora => hora.addEventListener('click', seleccionarHora))\r\n\t\tconst horasDeshabilitadas = document.querySelectorAll('.horas__hora--deshabilitada')\r\n\t\thorasDeshabilitadas.forEach(hora => hora.removeEventListener('click', seleccionarHora))\r\n\t}\r\n\r\n\tfunction seleccionarHora(e) {\r\n\t\tconst horaPrevia = document.querySelector('.horas__hora--seleccionada')\r\n\t\tif(horaPrevia) {\r\n\t\t\thoraPrevia.classList.remove('horas__hora--seleccionada')\r\n\t\t}\r\n\t\te.target.classList.add('horas__hora--seleccionada')\r\n\t\tinputHiddenHora.value = e.target.dataset.horaId\r\n\t\tinputHiddenDia.value = document.querySelector('[name=\"dia\"]:checked').value\r\n\t\tconsole.log(e)\r\n\t}\r\n})()","(function() {\r\n\tlet ponentes = []\r\n\tlet ponentesFiltrados = []\r\n\tconst ponentesInput = document.querySelector('#ponentes')\r\n\tconst listadoPonentes = document.querySelector('#listado-ponentes')\r\n\tconst ponenteHidden = document.querySelector('[name=ponente_id]')\r\n\tponentesInput.addEventListener('input', buscarPonentes)\r\n\tif(ponentesInput) {\r\n\t\tobtenerPonentes()\r\n\t\tif(ponenteHidden.value) {\r\n\t\t\t(async () => {\r\n\t\t\t\tconst ponente = await obtenerPonente(ponenteHidden.value)\r\n\t\t\t\tconst PonenteDOM = document.createElement('LI')\r\n\t\t\t\tPonenteDOM.classList.add('listado-ponentes__ponente', 'listado-ponentes__ponente--seleccionado')\r\n\t\t\t\tPonenteDOM.textContent = `${ponente.nombre} ${ponente.apellido}`\r\n\t\t\t\tlistadoPonentes.appendChild(PonenteDOM)\r\n\t\t\t})()\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerPonentes() {\r\n\t\tconst url = '/api/ponentes'\r\n\t\tconst respuesta = await fetch(url)\r\n\t\tconst resultado = await respuesta.json()\r\n\t\tformatearPonentes(resultado)\r\n\t}\r\n\r\n\tasync function obtenerPonente(id) {\r\n\t\tconst url = `/api/ponente?id=${id}`\r\n\t\tconst respuesta = await fetch(url)\r\n\t\tconst resultado = await respuesta.json()\r\n\t\treturn resultado\r\n\t}\r\n\r\n\tfunction formatearPonentes(arrayPonentes = []) {\r\n\t\tponentes = arrayPonentes.map(ponente => {\r\n\t\t\treturn {\r\n\t\t\t\tnombre: `${ponente.nombre.trim()} ${ponente.apellido.trim()}`,\r\n\t\t\t\tid: ponente.id\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tfunction buscarPonentes(e) {\r\n\t\tconst busqueda = e.target.value\r\n\t\tif(busqueda.length >= 3) {\r\n\t\t\tconst expresion = new RegExp(busqueda.normalize('NFD').replace(/[\\u0300-\\u036f]/g, ''), 'i')\r\n\t\t\tponentesFiltrados = ponentes.filter(ponente => {\r\n\t\t\t\tif(ponente.nombre.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').toLowerCase().search(expresion) != -1) {\r\n\t\t\t\t\treturn ponente\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tmostrarPonentes()\r\n\t\t} else {\r\n\t\t\tponentesFiltrados = []\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mostrarPonentes() {\r\n\t\twhile(listadoPonentes.firstChild) {\r\n\t\t\tlistadoPonentes.removeChild(listadoPonentes.firstChild)\r\n\t\t}\r\n\t\tif(ponentesFiltrados.length > 0) {\r\n\t\t\tponentesFiltrados.forEach(ponente => {\r\n\t\t\t\tconst ponenteHTML = document.createElement('LI')\r\n\t\t\t\tponenteHTML.classList.add('listado-ponentes__ponente')\r\n\t\t\t\tponenteHTML.textContent = ponente.nombre\r\n\t\t\t\tponenteHTML.dataset.ponenteId = ponente.id\r\n\t\t\t\tponenteHTML.onclick = seleccionarPonente\r\n\t\r\n\t\t\t\tlistadoPonentes.appendChild(ponenteHTML)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst noResultado = document.createElement('P')\r\n\t\t\tnoResultado.classList.add('listado-ponentes__no-resultado')\r\n\t\t\tnoResultado.textContent = 'No Hay Resultados Para Tu Busqueda'\r\n\t\t\tlistadoPonentes.appendChild(noResultado)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction seleccionarPonente(e) {\r\n\t\tconst ponente = e.target\r\n\t\tconst ponentePrevio = document.querySelector('.listado-ponentes__ponente--seleccionado')\r\n\t\tif(ponentePrevio) {\r\n\t\t\tponentePrevio.classList.remove('listado-ponentes__ponente--seleccionado')\r\n\t\t}\r\n\t\tponente.classList.add('listado-ponentes__ponente--seleccionado')\r\n\t\tponenteHidden.value = e.target.dataset.ponenteId\r\n\t}\r\n})()","(function() {\r\n\t// Creo el arreglo de tags\r\n\tlet tags = []\r\n\t// Selecciono el campo de tags\r\n\tconst tagsInput = document.querySelector('#tags_input')\r\n\tconst tagsDiv = document.querySelector('#tags')\r\n\tconst tagsInputHidden = document.querySelector('[name=\"tags\"]')\r\n\t// Si el campo esta presente en la pagina:\r\n\tif(tagsInput) {\r\n\t\t// Creo un evento tipo keypress y llamo la funcion\r\n\t\ttagsInput.addEventListener('keypress', guardarTag)\r\n\t}\r\n\t// Si hay elementos en los tags:\r\n\tif(tagsInputHidden.value !== '') {\r\n\t\ttags = tagsInputHidden.value.split(',')\r\n\t\tmostrarTags()\r\n\t}\r\n\t// Funcion para guardar los tags\r\n\tfunction guardarTag(e) {\r\n\t\t// Si presiono una coma (','):\r\n\t\tif(e.keyCode === 44) {\r\n\t\t\t// Si no hay nada escrito\r\n\t\t\tif(e.target.value.trim() === '' || e.target.value < 1) {\r\n\t\t\t\t// La coma no se escribe\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\t// Corto la ejecucion\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t// La coma no se escribe en el campo\r\n\t\t\te.preventDefault()\r\n\t\t\t// Agrego el tag actual a tags eliminando espacios en blanco\r\n\t\t\ttags = [...tags, e.target.value.trim()]\r\n\t\t\t// Limpio el campo de tagsInput\r\n\t\t\ttagsInput.value = ''\r\n\t\t\t// Llamo la funcion mostrarTags\r\n\t\t\tmostrarTags()\r\n\t\t}\t\r\n\t}\r\n\t// Funcion para mostrar los tags en el DOM\r\n\tfunction mostrarTags() {\r\n\t\ttagsDiv.textContent = ''\r\n\t\ttags.forEach(tag => {\r\n\t\t\tconst etiqueta = document.createElement('LI')\r\n\t\t\tconst btnEliminar = document.createElement('I')\r\n\t\t\tetiqueta.classList.add('formulario__tag')\r\n\t\t\tetiqueta.textContent = tag\r\n\t\t\tbtnEliminar.classList.add('fa-solid', 'fa-circle-xmark', 'tag__eliminar')\r\n\t\t\tbtnEliminar.onclick = eliminarTag\r\n\t\t\tetiqueta.appendChild(btnEliminar)\r\n\t\t\ttagsDiv.appendChild(etiqueta)\r\n\t\t})\r\n\t\tactualizarInputHidden()\r\n\t}\r\n\t// Funcion para eliminar Tags\r\n\tfunction eliminarTag(e) {\r\n\t\te.target.parentElement.remove()\r\n\t\ttags = tags.filter(tag => tag !== e.target.parentElement.textContent)\r\n\t\tactualizarInputHidden()\r\n\t}\r\n\t// Funcion para actualizar los tags\r\n\tfunction actualizarInputHidden() {\r\n\t\ttagsInputHidden.value = tags.toString()\r\n\t\tconsole.log(tagsInputHidden.value)\r\n\t}\r\n})()"]}