{"version":3,"sources":["paginaActual.js","horas.js","tags.js"],"names":["paginaActual","urlActual","window","location","enlace","document","querySelector","pathname","classList","add","console","log","horas","categoria","inputHiddenDia","inputHiddenHora","busqueda","categoria_id","dia","querySelectorAll","forEach","addEventListener","terminoBusqueda","e","target","name","value","horaPrevia","remove","Object","values","includes","async","url","resultado","fetch","eventos","listadoHoras","li","horasTomadas","map","evento","hora_id","listadoHorasArray","Array","from","filter","dataset","horaId","hora","seleccionarHora","removeEventListener","obtenerHorasDisponibles","json","buscarEventos","tags","tagsInput","tagsDiv","tagsInputHidden","mostrarTags","textContent","tag","etiqueta","createElement","btnEliminar","onclick","eliminarTag","appendChild","actualizarInputHidden","parentElement","toString","keyCode","trim","preventDefault","split"],"mappings":"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","file":"bundle.js","sourcesContent":["window.addEventListener('load', function() {\r\n\tpaginaActual()\r\n})\r\n\r\nfunction paginaActual() {\r\n\tconst urlActual = window.location\r\n\t\r\n\tconst enlace = document.querySelector(`a[href=\"${urlActual.pathname}\"]`)\r\n\t\r\n\tif(enlace){\r\n\t\tenlace.classList.add('dashboard__enlace--actual')\r\n\t\tconsole.log(enlace)\r\n\t}\r\n}","(function(){\r\n\r\n\tconst horas = document.querySelector('#horas')\r\n\tconst categoria = document.querySelector('[name=\"categoria_id\"]')\r\n\tconst inputHiddenDia = document.querySelector('[name=\"dia_id\"]')\r\n\tconst inputHiddenHora = document.querySelector('[name=\"hora_id\"]')\r\n\r\n\tlet busqueda = {\r\n\t\tcategoria_id: '',\r\n\t\tdia: ''\r\n\t}\r\n\r\n\tif(horas) {\r\n\t\tconst dias = document.querySelectorAll('[name=\"dia\"]')\r\n\t\tdias.forEach(dia => dia.addEventListener('change', terminoBusqueda))\r\n\t\tcategoria.addEventListener('change', terminoBusqueda)\r\n\r\n\t}\r\n\t\r\n\tfunction terminoBusqueda(e) {\r\n\t\tbusqueda[e.target.name] = e.target.value\r\n\t\tinputHiddenHora.value = ''\r\n\t\tinputHiddenDia.value = ''\r\n\t\tconst horaPrevia = document.querySelector('.horas__hora--seleccionada')\r\n\t\tif(horaPrevia) {\r\n\t\t\thoraPrevia.classList.remove('horas__hora--seleccionada')\r\n\t\t}\r\n\t\tif(Object.values(busqueda).includes('')) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tbuscarEventos()\r\n\t}\r\n\r\n\tasync function buscarEventos() {\r\n\t\tconst {dia, categoria_id} = busqueda\r\n\t\tconst url = `/api/eventos-horario?dia_id=${dia}&categoria_id=${categoria_id}`\r\n\t\tconst resultado = await fetch(url)\r\n\t\tconst eventos = await resultado.json()\r\n\t\tobtenerHorasDisponibles(eventos)\r\n\t}\r\n\r\n\tfunction obtenerHorasDisponibles(eventos) {\r\n\t\tconst listadoHoras = document.querySelectorAll('#horas li')\r\n\t\tlistadoHoras.forEach(li => li.classList.add('horas__hora--deshabilitada'))\r\n\t\tconst horasTomadas = eventos.map(evento => evento.hora_id)\r\n\t\tconst listadoHorasArray = Array.from(listadoHoras)\r\n\t\tconst resultado = listadoHorasArray.filter(li => !horasTomadas.includes(li.dataset.horaId))\r\n\t\tresultado.forEach(li => li.classList.remove('horas__hora--deshabilitada'))\r\n\t\tconst horasDisponibles = document.querySelectorAll('#horas li:not(.horas__hora--deshabilitada)')\r\n\t\thorasDisponibles.forEach(hora => hora.addEventListener('click', seleccionarHora))\r\n\t\tconst horasDeshabilitadas = document.querySelectorAll('.horas__hora--deshabilitada')\r\n\t\thorasDeshabilitadas.forEach(hora => hora.removeEventListener('click', seleccionarHora))\r\n\t}\r\n\r\n\tfunction seleccionarHora(e) {\r\n\t\tconst horaPrevia = document.querySelector('.horas__hora--seleccionada')\r\n\t\tif(horaPrevia) {\r\n\t\t\thoraPrevia.classList.remove('horas__hora--seleccionada')\r\n\t\t}\r\n\t\te.target.classList.add('horas__hora--seleccionada')\r\n\t\tinputHiddenHora.value = e.target.dataset.horaId\r\n\t\tinputHiddenDia.value = document.querySelector('[name=\"dia\"]:checked').value\r\n\t\tconsole.log(e)\r\n\t}\r\n})()","(function() {\r\n\t// Creo el arreglo de tags\r\n\tlet tags = []\r\n\t// Selecciono el campo de tags\r\n\tconst tagsInput = document.querySelector('#tags_input')\r\n\tconst tagsDiv = document.querySelector('#tags')\r\n\tconst tagsInputHidden = document.querySelector('[name=\"tags\"]')\r\n\t// Si el campo esta presente en la pagina:\r\n\tif(tagsInput) {\r\n\t\t// Creo un evento tipo keypress y llamo la funcion\r\n\t\ttagsInput.addEventListener('keypress', guardarTag)\r\n\t}\r\n\t// Si hay elementos en los tags:\r\n\tif(tagsInputHidden.value !== '') {\r\n\t\ttags = tagsInputHidden.value.split(',')\r\n\t\tmostrarTags()\r\n\t}\r\n\t// Funcion para guardar los tags\r\n\tfunction guardarTag(e) {\r\n\t\t// Si presiono una coma (','):\r\n\t\tif(e.keyCode === 44) {\r\n\t\t\t// Si no hay nada escrito\r\n\t\t\tif(e.target.value.trim() === '' || e.target.value < 1) {\r\n\t\t\t\t// La coma no se escribe\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\t// Corto la ejecucion\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t// La coma no se escribe en el campo\r\n\t\t\te.preventDefault()\r\n\t\t\t// Agrego el tag actual a tags eliminando espacios en blanco\r\n\t\t\ttags = [...tags, e.target.value.trim()]\r\n\t\t\t// Limpio el campo de tagsInput\r\n\t\t\ttagsInput.value = ''\r\n\t\t\t// Llamo la funcion mostrarTags\r\n\t\t\tmostrarTags()\r\n\t\t}\t\r\n\t}\r\n\t// Funcion para mostrar los tags en el DOM\r\n\tfunction mostrarTags() {\r\n\t\ttagsDiv.textContent = ''\r\n\t\ttags.forEach(tag => {\r\n\t\t\tconst etiqueta = document.createElement('LI')\r\n\t\t\tconst btnEliminar = document.createElement('I')\r\n\t\t\tetiqueta.classList.add('formulario__tag')\r\n\t\t\tetiqueta.textContent = tag\r\n\t\t\tbtnEliminar.classList.add('fa-solid', 'fa-circle-xmark', 'tag__eliminar')\r\n\t\t\tbtnEliminar.onclick = eliminarTag\r\n\t\t\tetiqueta.appendChild(btnEliminar)\r\n\t\t\ttagsDiv.appendChild(etiqueta)\r\n\t\t})\r\n\t\tactualizarInputHidden()\r\n\t}\r\n\t// Funcion para eliminar Tags\r\n\tfunction eliminarTag(e) {\r\n\t\te.target.parentElement.remove()\r\n\t\ttags = tags.filter(tag => tag !== e.target.parentElement.textContent)\r\n\t\tactualizarInputHidden()\r\n\t}\r\n\t// Funcion para actualizar los tags\r\n\tfunction actualizarInputHidden() {\r\n\t\ttagsInputHidden.value = tags.toString()\r\n\t\tconsole.log(tagsInputHidden.value)\r\n\t}\r\n})()"]}